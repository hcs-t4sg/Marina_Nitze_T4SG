{"version":3,"file":"react-multi-select-component.cjs.development.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/hooks/use-multi-select.tsx","../src/hooks/use-did-update-effect.tsx","../src/hooks/use-key.tsx","../src/lib/constants.tsx","../src/lib/debounce.tsx","../src/lib/fuzzy-match-utils.tsx","../src/select-panel/cross.tsx","../src/select-panel/default-item.tsx","../src/select-panel/select-item.tsx","../src/select-panel/select-list.tsx","../src/select-panel/index.tsx","../src/multi-select/arrow.tsx","../src/multi-select/header.tsx","../src/multi-select/loading.tsx","../src/multi-select/dropdown.tsx","../src/multi-select/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from \"react\";\n\nimport { ISelectProps, Option } from \"../lib/interfaces\";\n\nconst defaultStrings = {\n  allItemsAreSelected: \"All items are selected.\",\n  clearSearch: \"Clear Search\",\n  clearSelected: \"Clear Selected\",\n  noOptions: \"No options\",\n  search: \"Search\",\n  selectAll: \"Select All\",\n  selectSomeItems: \"Select...\",\n};\n\nconst defaultProps: Partial<ISelectProps> = {\n  value: [],\n  hasSelectAll: true,\n  className: \"multi-select\",\n  debounceDuration: 200,\n  options: [] as Option[],\n};\n\ninterface MultiSelectContextProps extends ISelectProps {\n  t: (key: string) => string;\n}\n\ninterface MultiSelectProviderProps {\n  props: ISelectProps;\n  children;\n}\n\nconst MultiSelectContext = React.createContext<MultiSelectContextProps>(\n  {} as MultiSelectContextProps\n);\n\nexport const MultiSelectProvider = ({\n  props,\n  children,\n}: MultiSelectProviderProps) => {\n  const t = (key) => props.overrideStrings?.[key] || defaultStrings[key];\n\n  return (\n    <MultiSelectContext.Provider value={{ t, ...defaultProps, ...props }}>\n      {children}\n    </MultiSelectContext.Provider>\n  );\n};\n\nexport const useMultiSelect = () => React.useContext(MultiSelectContext);\n","import { useEffect, useRef } from \"react\";\n\n/**\n * similar to `useEffect` but gets triggered only when value changes\n * @param fn executable function on dependency updates\n * @param inputs dependency array\n */\nexport function useDidUpdateEffect(fn, inputs) {\n  const didMountRef = useRef(false);\n\n  useEffect(() => {\n    if (didMountRef.current) fn();\n    else didMountRef.current = true;\n  }, inputs);\n}\n","/*\n * copied from https://github.com/imbhargav5/rooks/blob/master/packages/shared/useKeyRef.ts\n */\n\nimport { Ref, useEffect, useCallback, useRef, useMemo } from \"react\";\n\ninterface Options {\n  /**\n   * Condition which if true, will enable the event listeners\n   */\n  when?: boolean;\n  /**\n   * Keyboardevent types to listen for. Valid options are keyDown, keyPress and keyUp\n   */\n  eventTypes?: Array<string | number>;\n  /**\n   * target ref on which the events should be listened. If no target is specified,\n   * events are listened to on the window\n   */\n  target?: Ref<HTMLElement> | null;\n}\n\nconst defaultOptions = {\n  when: true,\n  eventTypes: [\"keydown\"],\n};\n\n/**\n * useKey hook\n *\n * Fires a callback on keyboard events like keyDown, keyPress and keyUp\n *\n * @param {[string|number]} keyList\n * @param {function} callback\n * @param {Options} options\n */\nfunction useKey(\n  input: string | number | Array<string | number>,\n  callback: (e: KeyboardEvent) => any,\n  opts?: Options\n): void {\n  const keyList: Array<string | number> = useMemo(\n    () => (Array.isArray(input) ? input : [input]),\n    [input]\n  );\n  const options = Object.assign({}, defaultOptions, opts);\n  const { when, eventTypes } = options;\n  const callbackRef = useRef<(e: KeyboardEvent) => any>(callback);\n  let { target } = options;\n\n  useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  const handle = useCallback(\n    (e: KeyboardEvent) => {\n      if (keyList.some((k) => e.key === k || e.code === k)) {\n        callbackRef.current(e);\n      }\n    },\n    [keyList]\n  );\n\n  useEffect((): any => {\n    if (when && typeof window !== \"undefined\") {\n      const targetNode = target ? target[\"current\"] : window;\n      eventTypes.forEach((eventType) => {\n        targetNode && targetNode.addEventListener(eventType, handle);\n      });\n      return () => {\n        eventTypes.forEach((eventType) => {\n          targetNode && targetNode.removeEventListener(eventType, handle);\n        });\n      };\n    }\n  }, [when, eventTypes, keyList, target, callback]);\n}\n\nexport { useKey };\n","export const KEY = {\n  ARROW_DOWN: \"ArrowDown\",\n  ARROW_UP: \"ArrowUp\",\n  ENTER: \"Enter\",\n  ESCAPE: \"Escape\",\n  SPACE: \"Space\",\n};\n","export const debounce = (func, wait) => {\n  let timeout;\n  return function (...args) {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      func.apply(null, args);\n    }, wait);\n  };\n};\n","import { Option } from \"./interfaces\";\n\n/**\n * A collection of string matching algorithms built with React Select in mind.\n */\n\n// Option type from React Select and similar libraries.\ntype MapOfStrings = { [key: string]: string };\n\n/**\n * Filters React Select options and sorts by similarity to a search filter.\n * Handles partial matches, eg. searching for \"Waberg High\" will find \"Raoul\n * Wallenberg Traditional High School\". Case insensitive. Ignores\n * non-alphanumeric characters.\n *\n * @param  options  An unfiltered list of Options.\n * @param? filter  A string to compare against Option labels.\n * @param? substitutions  Strings with multiple spellings or variations that we\n *           expect to match, eg. accented characters or abbreviated words.\n *\n * @return A filtered and sorted array of Options.\n */\nexport function filterOptions(\n  options: Option[],\n  filter?: string,\n  substitutions?: MapOfStrings\n): Option[] {\n  // If the filter is blank, return the full list of Options.\n  if (!filter) {\n    return options;\n  }\n\n  const cleanFilter = cleanUpText(filter, substitutions);\n  return (\n    options\n      // Filter out undefined or null Options.\n      .filter(({ label, value }) => label != null && value != null)\n      // Create a {score, Option} pair for each Option based on its label's\n      // similarity to the filter text.\n      .map((option) => ({\n        option: option,\n        score: typeaheadSimilarity(\n          cleanUpText(option.label, substitutions),\n          cleanFilter\n        ),\n      }))\n      // Only include matches of the entire substring, with a slight\n      // affordance for transposition or extra characters.\n      .filter((pair) => pair.score >= cleanFilter.length - 2)\n      // Sort 'em by order of their score.\n      .sort((a, b) => b.score - a.score)\n      // …and grab the original Options back from their pairs.\n      .map((pair) => pair.option)\n  );\n}\n\n/**\n * Scores the similarity between two strings by returning the length of the\n * longest common subsequence. Intended for comparing strings of different\n * lengths; eg. when matching a typeahead search input with a school name.\n\n * Meant for use in an instant search box where results are being fetched\n * as a user is typing.\n *\n * @param  a  The longer string (though, we flip them if it's shorter).\n * @param  b  The shorter string, eg. a typeahead search input.\n *\n * @return The length of the longest common subsequence. Higher scores indicate\n *           closer matches.\n */\nexport function typeaheadSimilarity(a: string, b: string): number {\n  const aLength = a.length;\n  const bLength = b.length;\n  const table: any[] = [];\n\n  if (!aLength || !bLength) {\n    return 0;\n  }\n\n  // Ensure `a` isn't shorter than `b`.\n  if (aLength < bLength) {\n    [a, b] = [b, a];\n  }\n\n  // Early exit if `a` includes `b`; these will be scored higher than any\n  // other options with the same `b` (filter string), with a preference for\n  // shorter `a` strings (option labels).\n  if (a.indexOf(b) !== -1) {\n    return bLength + 1 / aLength;\n  }\n\n  // Initialize the table axes:\n  //\n  //    0 0 0 0 ... bLength\n  //    0\n  //    0\n  //\n  //   ...\n  //\n  // aLength\n  //\n  for (let x = 0; x <= aLength; ++x) {\n    table[x] = [0];\n  }\n  for (let y = 0; y <= bLength; ++y) {\n    table[0][y] = 0;\n  }\n\n  // Populate the rest of the table with a dynamic programming algorithm.\n  for (let x = 1; x <= aLength; ++x) {\n    for (let y = 1; y <= bLength; ++y) {\n      table[x][y] =\n        a[x - 1] === b[y - 1]\n          ? 1 + table[x - 1][y - 1]\n          : Math.max(table[x][y - 1], table[x - 1][y]);\n    }\n  }\n\n  return table[aLength][bLength];\n}\n\n/**\n * Apply string substitutions, remove non-alphanumeric characters, and convert\n * all letters to uppercase.\n *\n * eg. 'Scoil Bhríde Primary School' may become 'SCOILBHRIDEPRIMARYSCHOOL'.\n *\n * @param  input  An unsanitized input string.\n * @param  substitutions  Strings with multiple spellings or variations that we\n *          expect to match, for example accented characters or abbreviated\n *          words.\n *\n * @return The sanitized text.\n */\nexport function cleanUpText(\n  input?: string,\n  substitutions?: MapOfStrings\n): string {\n  if (!input) {\n    return \"\";\n  }\n\n  // Uppercase and remove all non-alphanumeric, non-accented characters.\n  // Also remove underscores.\n  input = input.toUpperCase().replace(/((?=[^\\u00E0-\\u00FC])\\W)|_/g, \"\");\n\n  if (!substitutions) {\n    return input;\n  }\n  const safeSubstitutions: MapOfStrings = substitutions; // For Flow.\n\n  // Replace all strings in `safeSubstitutions` with their standardized\n  // counterparts.\n  return Object.keys(safeSubstitutions).reduce((output, substitution) => {\n    const unsubbed = new RegExp(substitution, \"g\");\n    return output.replace(unsubbed, safeSubstitutions[substitution]);\n  }, input);\n}\n","import React from \"react\";\n\nexport const Cross = () => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    className=\"dropdown-search-clear-icon gray\"\n  >\n    <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n    <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n  </svg>\n);\n","import React from \"react\";\n\nimport { Option } from \"../lib/interfaces\";\n\ninterface IDefaultItemRendererProps {\n  checked: boolean;\n  option: Option;\n  disabled?: boolean;\n  onClick;\n}\n\nconst DefaultItemRenderer = ({\n  checked,\n  option,\n  onClick,\n  disabled,\n}: IDefaultItemRendererProps) => (\n  <div className={`item-renderer ${disabled && \"disabled\"}`}>\n    <input\n      type=\"checkbox\"\n      onChange={onClick}\n      checked={checked}\n      tabIndex={-1}\n      disabled={disabled}\n    />\n    <span>{option.label}</span>\n  </div>\n);\n\nexport default DefaultItemRenderer;\n","/**\n * This component represents an individual item in the multi-select drop-down\n */\nimport React, { useRef } from \"react\";\n\nimport { useKey } from \"../hooks/use-key\";\nimport { KEY } from \"../lib/constants\";\nimport { Option } from \"../lib/interfaces\";\nimport DefaultItemRenderer from \"./default-item\";\n\ninterface ISelectItemProps {\n  itemRenderer;\n  option: Option;\n  checked?: boolean;\n  tabIndex?: number;\n  disabled?: boolean;\n  onSelectionChanged: (checked: boolean) => void;\n  onClick;\n}\n\nconst SelectItem = ({\n  itemRenderer: ItemRenderer = DefaultItemRenderer,\n  option,\n  checked,\n  tabIndex,\n  disabled,\n  onSelectionChanged,\n  onClick,\n}: ISelectItemProps) => {\n  const itemRef: any = useRef();\n\n  const onOptionCheck = (e) => {\n    toggleChecked();\n    e.preventDefault();\n  };\n\n  const toggleChecked = () => {\n    if (!disabled) {\n      onSelectionChanged(!checked);\n    }\n  };\n\n  const handleClick = (e) => {\n    toggleChecked();\n    onClick(e);\n  };\n\n  useKey([KEY.ENTER, KEY.SPACE], onOptionCheck, { target: itemRef });\n\n  return (\n    <label\n      className={`select-item ${checked && \"selected\"}`}\n      role=\"option\"\n      aria-selected={checked}\n      tabIndex={tabIndex}\n      ref={itemRef}\n    >\n      <ItemRenderer\n        option={option}\n        checked={checked}\n        onClick={handleClick}\n        disabled={disabled}\n      />\n    </label>\n  );\n};\n\nexport default SelectItem;\n","/**\n * This component represents an unadorned list of SelectItem (s).\n */\nimport React from \"react\";\n\nimport { useMultiSelect } from \"../hooks/use-multi-select\";\nimport { Option } from \"../lib/interfaces\";\nimport SelectItem from \"./select-item\";\n\ninterface ISelectListProps {\n  options: Option[];\n  onClick: Function;\n  skipIndex: number;\n}\n\nconst SelectList = ({ options, onClick, skipIndex }: ISelectListProps) => {\n  const { disabled, value, onChange, ItemRenderer } = useMultiSelect();\n\n  const handleSelectionChanged = (option: Option, checked: boolean) => {\n    if (disabled) return;\n\n    onChange(\n      checked\n        ? [...value, option]\n        : value.filter((o: any) => o.value !== option.value)\n    );\n  };\n\n  return (\n    <>\n      {options.map((o: any, i) => {\n        const tabIndex = i + skipIndex;\n\n        return (\n          <li key={o?.key || i}>\n            <SelectItem\n              tabIndex={tabIndex}\n              option={o}\n              onSelectionChanged={(c) => handleSelectionChanged(o, c)}\n              checked={!!value.find((s) => s.value === o.value)}\n              onClick={(e) => onClick(e, tabIndex)}\n              itemRenderer={ItemRenderer}\n              disabled={o.disabled || disabled}\n            />\n          </li>\n        );\n      })}\n    </>\n  );\n};\n\nexport default SelectList;\n","/**\n * This component represents the entire panel which gets dropped down when the\n * user selects the component.  It encapsulates the search filter, the\n * Select-all item, and the list of options.\n */\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\";\n\nimport { useKey } from \"../hooks/use-key\";\nimport { useMultiSelect } from \"../hooks/use-multi-select\";\nimport { KEY } from \"../lib/constants\";\nimport { debounce } from \"../lib/debounce\";\nimport { filterOptions } from \"../lib/fuzzy-match-utils\";\nimport { Cross } from \"./cross\";\nimport SelectItem from \"./select-item\";\nimport SelectList from \"./select-list\";\n\nenum FocusType {\n  SEARCH = 0,\n  NONE = -1,\n}\n\nconst SelectPanel = () => {\n  const {\n    t,\n    onChange,\n    options,\n    value,\n    filterOptions: customFilterOptions,\n    selectAllLabel,\n    ItemRenderer,\n    disabled,\n    disableSearch,\n    hasSelectAll,\n    ClearIcon,\n    debounceDuration,\n  } = useMultiSelect();\n\n  const listRef = useRef<any>();\n  const searchInputRef = useRef<any>();\n  const [searchText, setSearchText] = useState(\"\");\n  const [filteredOptions, setFilteredOptions] = useState(options);\n  const [searchTextForFilter, setSearchTextForFilter] = useState(\"\");\n  const [focusIndex, setFocusIndex] = useState(0);\n  const debouncedSearch = useCallback(\n    debounce((query) => setSearchTextForFilter(query), debounceDuration),\n    []\n  );\n\n  const skipIndex = useMemo(() => {\n    let start = 0;\n\n    if (!disableSearch) start += 1; // if search is enabled then +1 to skipIndex\n    if (hasSelectAll) start += 1; // if select-all is enabled then +1 to skipIndex\n\n    return start;\n  }, [disableSearch, hasSelectAll]);\n\n  const selectAllOption = {\n    label: selectAllLabel || t(\"selectAll\"),\n    value: \"\",\n  };\n\n  const selectAllValues = (checked) => {\n    const filteredValues = filteredOptions\n      .filter((o) => !o.disabled)\n      .map((o) => o.value);\n\n    if (checked) {\n      const selectedValues = value.map((o) => o.value);\n      const finalSelectedValues = [...selectedValues, ...filteredValues];\n\n      return filteredOptions.filter((o) =>\n        finalSelectedValues.includes(o.value)\n      );\n    }\n\n    return value.filter((o) => !filteredValues.includes(o.value));\n  };\n\n  const selectAllChanged = (checked: boolean) => {\n    const newOptions = selectAllValues(checked);\n    onChange(newOptions);\n  };\n\n  const handleSearchChange = (e) => {\n    debouncedSearch(e.target.value);\n    setSearchText(e.target.value);\n    setFocusIndex(FocusType.SEARCH);\n  };\n\n  const handleClear = () => {\n    setSearchTextForFilter(\"\");\n    setSearchText(\"\");\n    searchInputRef?.current?.focus();\n  };\n\n  const handleItemClicked = (index: number) => setFocusIndex(index);\n\n  // Arrow Key Navigation\n  const handleKeyDown = (e) => {\n    switch (e.code) {\n      case KEY.ARROW_UP:\n        updateFocus(-1);\n        break;\n      case KEY.ARROW_DOWN:\n        updateFocus(1);\n        break;\n      default:\n        return;\n    }\n    e.stopPropagation();\n    e.preventDefault();\n  };\n\n  useKey([KEY.ARROW_DOWN, KEY.ARROW_UP], handleKeyDown, {\n    target: listRef,\n  });\n\n  const handleSearchFocus = () => {\n    setFocusIndex(FocusType.SEARCH);\n  };\n\n  const getFilteredOptions = async () =>\n    customFilterOptions\n      ? await customFilterOptions(options, searchTextForFilter)\n      : filterOptions(options, searchTextForFilter);\n\n  const updateFocus = (offset: number) => {\n    let newFocus = focusIndex + offset;\n    newFocus = Math.max(0, newFocus);\n    newFocus = Math.min(newFocus, options.length + Math.max(skipIndex - 1, 0));\n    setFocusIndex(newFocus);\n  };\n\n  useEffect(() => {\n    listRef?.current?.querySelector(`[tabIndex='${focusIndex}']`)?.focus();\n  }, [focusIndex]);\n\n  const [isAllOptionSelected, hasSelectableOptions] = useMemo(() => {\n    const filteredOptionsList = filteredOptions.filter((o) => !o.disabled);\n    return [\n      filteredOptionsList.every(\n        (o) => value.findIndex((v) => v.value === o.value) !== -1\n      ),\n      filteredOptionsList.length !== 0,\n    ];\n    // eslint-disable-next-line\n  }, [filteredOptions, value]);\n\n  useEffect(() => {\n    getFilteredOptions().then(setFilteredOptions);\n  }, [searchTextForFilter, options]);\n\n  return (\n    <div className=\"select-panel\" role=\"listbox\" ref={listRef}>\n      {!disableSearch && (\n        <div className=\"search\">\n          <input\n            placeholder={t(\"search\")}\n            type=\"text\"\n            aria-describedby={t(\"search\")}\n            onChange={handleSearchChange}\n            onFocus={handleSearchFocus}\n            value={searchText}\n            ref={searchInputRef}\n            tabIndex={0}\n          />\n          <button\n            type=\"button\"\n            className=\"search-clear-button\"\n            hidden={!searchText}\n            onClick={handleClear}\n            aria-label={t(\"clearSearch\")}\n          >\n            {ClearIcon || <Cross />}\n          </button>\n        </div>\n      )}\n\n      <ul className=\"options\">\n        {hasSelectAll && hasSelectableOptions && (\n          <SelectItem\n            tabIndex={skipIndex === 1 ? 0 : 1}\n            checked={isAllOptionSelected}\n            option={selectAllOption}\n            onSelectionChanged={selectAllChanged}\n            onClick={() => handleItemClicked(1)}\n            itemRenderer={ItemRenderer}\n            disabled={disabled}\n          />\n        )}\n\n        {filteredOptions.length ? (\n          <SelectList\n            skipIndex={skipIndex}\n            options={filteredOptions}\n            onClick={(_e, index) => handleItemClicked(index)}\n          />\n        ) : (\n          <li className=\"no-options\">{t(\"noOptions\")}</li>\n        )}\n      </ul>\n    </div>\n  );\n};\n\nexport default SelectPanel;\n","import React from \"react\";\n\nexport const Arrow = ({ expanded }) => (\n  <svg\n    width=\"24\"\n    height=\"24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    strokeWidth=\"2\"\n    className=\"dropdown-heading-dropdown-arrow gray\"\n  >\n    <path d={expanded ? \"M18 15 12 9 6 15\" : \"M6 9L12 15 18 9\"} />\n  </svg>\n);\n","import React from \"react\";\n\nimport { useMultiSelect } from \"../hooks/use-multi-select\";\n\nexport const DropdownHeader = () => {\n  const { t, value, options, valueRenderer } = useMultiSelect();\n\n  const noneSelected = value.length === 0;\n  const allSelected = value.length === options.length;\n  const customText = valueRenderer && valueRenderer(value, options);\n\n  const getSelectedText = () => value.map((s) => s.label).join(\", \");\n\n  return noneSelected ? (\n    <span className=\"gray\">{customText || t(\"selectSomeItems\")}</span>\n  ) : (\n    <span>\n      {customText ||\n        (allSelected ? t(\"allItemsAreSelected\") : getSelectedText())}\n    </span>\n  );\n};\n","import React from \"react\";\n\nexport const Loading = ({ size = 24 }) => (\n  <span\n    style={{\n      width: size,\n      marginRight: \"0.2rem\",\n    }}\n  >\n    <svg\n      width={size}\n      height={size}\n      className=\"spinner\"\n      viewBox=\"0 0 50 50\"\n      style={{ display: \"inline\", verticalAlign: \"middle\" }}\n    >\n      <circle cx=\"25\" cy=\"25\" r=\"20\" fill=\"none\" className=\"path\"></circle>\n    </svg>\n  </span>\n);\n","/**\n * A generic dropdown component.  It takes the children of the component\n * and hosts it in the component.  When the component is selected, it\n * drops-down the contentComponent and applies the contentProps.\n */\nimport React, { useEffect, useRef, useState } from \"react\";\n\nimport { useDidUpdateEffect } from \"../hooks/use-did-update-effect\";\nimport { useKey } from \"../hooks/use-key\";\nimport { useMultiSelect } from \"../hooks/use-multi-select\";\nimport { KEY } from \"../lib/constants\";\nimport SelectPanel from \"../select-panel\";\nimport { Cross } from \"../select-panel/cross\";\nimport { Arrow } from \"./arrow\";\nimport { DropdownHeader } from \"./header\";\nimport { Loading } from \"./loading\";\n\nconst Dropdown = () => {\n  const {\n    t,\n    onMenuToggle,\n    ArrowRenderer,\n    shouldToggleOnHover,\n    isLoading,\n    disabled,\n    onChange,\n    labelledBy,\n    value,\n    isOpen,\n    defaultIsOpen,\n    ClearSelectedIcon,\n  } = useMultiSelect();\n\n  const [isInternalExpand, setIsInternalExpand] = useState(true);\n  const [expanded, setExpanded] = useState(defaultIsOpen);\n  const [hasFocus, setHasFocus] = useState(false);\n  const FinalArrow = ArrowRenderer || Arrow;\n\n  const wrapper: any = useRef();\n\n  useDidUpdateEffect(() => {\n    onMenuToggle && onMenuToggle(expanded);\n  }, [expanded]);\n\n  useEffect(() => {\n    if (defaultIsOpen === undefined && typeof isOpen === \"boolean\") {\n      setIsInternalExpand(false);\n      setExpanded(isOpen);\n    }\n  }, [isOpen]);\n\n  const handleKeyDown = (e) => {\n    // allows space when focused on input\n    if (e.target.type === \"text\" && e.code === KEY.SPACE) {\n      return;\n    }\n\n    if (isInternalExpand) {\n      if (e.code === KEY.ESCAPE) {\n        setExpanded(false);\n        wrapper?.current?.focus();\n      } else {\n        setExpanded(true);\n      }\n    }\n    e.preventDefault();\n  };\n\n  useKey([KEY.ENTER, KEY.ARROW_DOWN, KEY.SPACE, KEY.ESCAPE], handleKeyDown, {\n    target: wrapper,\n  });\n\n  const handleHover = (iexpanded: boolean) => {\n    isInternalExpand && shouldToggleOnHover && setExpanded(iexpanded);\n  };\n\n  const handleFocus = () => !hasFocus && setHasFocus(true);\n\n  const handleBlur = (e) => {\n    if (!e.currentTarget.contains(e.relatedTarget) && isInternalExpand) {\n      setHasFocus(false);\n      setExpanded(false);\n    }\n  };\n\n  const handleMouseEnter = () => handleHover(true);\n\n  const handleMouseLeave = () => handleHover(false);\n\n  const toggleExpanded = () => {\n    isInternalExpand && setExpanded(isLoading || disabled ? false : !expanded);\n  };\n\n  const handleClearSelected = (e) => {\n    e.stopPropagation();\n    onChange([]);\n    isInternalExpand && setExpanded(false);\n  };\n\n  return (\n    <div\n      tabIndex={0}\n      className=\"dropdown-container\"\n      aria-labelledby={labelledBy}\n      aria-expanded={expanded}\n      aria-readonly={true}\n      aria-disabled={disabled}\n      ref={wrapper}\n      onFocus={handleFocus}\n      onBlur={handleBlur}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n    >\n      <div className=\"dropdown-heading\" onClick={toggleExpanded}>\n        <div className=\"dropdown-heading-value\">\n          <DropdownHeader />\n        </div>\n        {isLoading && <Loading />}\n        {value.length > 0 && (\n          <button\n            type=\"button\"\n            className=\"clear-selected-button\"\n            onClick={handleClearSelected}\n            disabled={disabled}\n            aria-label={t(\"clearSelected\")}\n          >\n            {ClearSelectedIcon || <Cross />}\n          </button>\n        )}\n        <FinalArrow expanded={expanded} />\n      </div>\n      {expanded && (\n        <div className=\"dropdown-content\">\n          <div className=\"panel-content\">\n            <SelectPanel />\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dropdown;\n","import \"../style.css\";\n\nimport React from \"react\";\n\nimport { MultiSelectProvider } from \"../hooks/use-multi-select\";\nimport { ISelectProps } from \"../lib/interfaces\";\nimport Dropdown from \"./dropdown\";\n\nconst MultiSelect = (props: ISelectProps) => (\n  <MultiSelectProvider props={props}>\n    <div className={`rmsc ${props.className || \"multi-select\"}`}>\n      <Dropdown />\n    </div>\n  </MultiSelectProvider>\n);\n\nexport default MultiSelect;\n"],"names":["defaultStrings","allItemsAreSelected","clearSearch","clearSelected","noOptions","search","selectAll","selectSomeItems","defaultProps","value","hasSelectAll","className","debounceDuration","options","MultiSelectContext","React","createContext","MultiSelectProvider","props","children","t","key","overrideStrings","Provider","useMultiSelect","useContext","useDidUpdateEffect","fn","inputs","didMountRef","useRef","useEffect","current","defaultOptions","when","eventTypes","useKey","input","callback","opts","keyList","useMemo","Array","isArray","Object","assign","callbackRef","target","handle","useCallback","e","some","k","code","window","targetNode","forEach","eventType","addEventListener","removeEventListener","KEY","ARROW_DOWN","ARROW_UP","ENTER","ESCAPE","SPACE","debounce","func","wait","timeout","args","clearTimeout","setTimeout","apply","filterOptions","filter","substitutions","cleanFilter","cleanUpText","label","map","option","score","typeaheadSimilarity","pair","length","sort","a","b","aLength","bLength","table","indexOf","x","y","Math","max","toUpperCase","replace","safeSubstitutions","keys","reduce","output","substitution","unsubbed","RegExp","Cross","width","height","fill","stroke","strokeWidth","x1","y1","x2","y2","DefaultItemRenderer","checked","onClick","disabled","type","onChange","tabIndex","SelectItem","itemRenderer","ItemRenderer","onSelectionChanged","itemRef","onOptionCheck","toggleChecked","preventDefault","handleClick","role","ref","SelectList","skipIndex","handleSelectionChanged","o","i","c","find","s","FocusType","SelectPanel","customFilterOptions","selectAllLabel","disableSearch","ClearIcon","listRef","searchInputRef","searchText","setSearchText","useState","filteredOptions","setFilteredOptions","searchTextForFilter","setSearchTextForFilter","focusIndex","setFocusIndex","debouncedSearch","query","start","selectAllOption","selectAllValues","filteredValues","selectedValues","finalSelectedValues","includes","selectAllChanged","newOptions","handleSearchChange","SEARCH","handleClear","focus","handleItemClicked","index","handleKeyDown","updateFocus","stopPropagation","handleSearchFocus","getFilteredOptions","offset","newFocus","min","querySelector","isAllOptionSelected","hasSelectableOptions","filteredOptionsList","every","findIndex","v","then","placeholder","onFocus","hidden","_e","Arrow","expanded","d","DropdownHeader","valueRenderer","noneSelected","allSelected","customText","getSelectedText","join","Loading","size","style","marginRight","viewBox","display","verticalAlign","cx","cy","r","Dropdown","onMenuToggle","ArrowRenderer","shouldToggleOnHover","isLoading","labelledBy","isOpen","defaultIsOpen","ClearSelectedIcon","isInternalExpand","setIsInternalExpand","setExpanded","hasFocus","setHasFocus","FinalArrow","wrapper","undefined","handleHover","iexpanded","handleFocus","handleBlur","currentTarget","contains","relatedTarget","handleMouseEnter","handleMouseLeave","toggleExpanded","handleClearSelected","onBlur","onMouseEnter","onMouseLeave","MultiSelect"],"mappings":"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"}